{"title":"Adjustment about unresolved stack usage in binary ninja","date":"2024-06-17T02:03:34.000Z","source":"_posts/Adjustment-about-unresolved-stack-usage-in-binary-ninja.md","raw":"---\ntitle: Adjustment about unresolved stack usage in binary ninja\ndate: 2024-06-17 10:03:34\ntags: [reverse-engine,binary-ninja]\n---\nThis is a short article about the error **\"This function has unresolved stack usage.View graph of stack usage to resolve\"** in binary ninja and the function **\"Set Stack Adjustment\"**.\n\nAcctually, this error has the similar solve way as IDA. \nFirst, you should **step in the \"Graph of stack usage\"** as the image note:\n![alt text](image-10.png)\nIn this Graph, you should care about the \"Green Block\" and **\"Bule Block\"**. Green means it is fine. and Blue, as the first sentence of blue block, is the **error stack**.\n![alt text](image-11.png)\nAnd, by **right click** in the first call of blue block, click the **\"Set Stack Adjustment\"** you can input **number** to adjust stack analyze in this call:\n![alt text](image-12.png)\n![alt text](image-13.png)\nBut soon, a confused thing : why this error not solved? And **graph not changed**.\nIn fact, the reason is: this **\"Graph of stack usage\" is a static graph**. It will not update with our adjust just in time. So, you can re-step in this graph again to check your adjustment if it works.\nIn this case, I adjust two call's stack usage, and set adjustment by 1\n![alt text](image-14.png)\nby 0\n![alt text](image-15.png)\nand solved.\n![alt text](image-16.png)\n\n[example: RCTF2019-DontEatMe-main](https://buuoj.cn/challenges#[RCTF2019]DontEatMe) ","slug":"Adjustment-about-unresolved-stack-usage-in-binary-ninja","published":true,"updated":"2024-06-17T02:50:56.000Z","_id":"clxidry3m0000ccw0h0sobegg","comments":true,"layout":"post","photos":[],"html":"<p>This is a short article about the error <strong>“This function has unresolved stack usage.View graph of stack usage to resolve”</strong> in binary ninja and the function <strong>“Set Stack Adjustment”</strong>.</p>\n<p>Acctually, this error has the similar solve way as IDA.<br>First, you should <strong>step in the “Graph of stack usage”</strong> as the image note:<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-10.png\" alt=\"alt text\"><br>In this Graph, you should care about the “Green Block” and <strong>“Bule Block”</strong>. Green means it is fine. and Blue, as the first sentence of blue block, is the <strong>error stack</strong>.<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-11.png\" alt=\"alt text\"><br>And, by <strong>right click</strong> in the first call of blue block, click the <strong>“Set Stack Adjustment”</strong> you can input <strong>number</strong> to adjust stack analyze in this call:<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-12.png\" alt=\"alt text\"><br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-13.png\" alt=\"alt text\"><br>But soon, a confused thing : why this error not solved? And <strong>graph not changed</strong>.<br>In fact, the reason is: this <strong>“Graph of stack usage” is a static graph</strong>. It will not update with our adjust just in time. So, you can re-step in this graph again to check your adjustment if it works.<br>In this case, I adjust two call’s stack usage, and set adjustment by 1<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-14.png\" alt=\"alt text\"><br>by 0<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-15.png\" alt=\"alt text\"><br>and solved.<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-16.png\" alt=\"alt text\"></p>\n<p><a href=\"https://buuoj.cn/challenges#[RCTF2019]DontEatMe\">example: RCTF2019-DontEatMe-main</a></p>\n","excerpt":"","more":"<p>This is a short article about the error <strong>“This function has unresolved stack usage.View graph of stack usage to resolve”</strong> in binary ninja and the function <strong>“Set Stack Adjustment”</strong>.</p>\n<p>Acctually, this error has the similar solve way as IDA.<br>First, you should <strong>step in the “Graph of stack usage”</strong> as the image note:<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-10.png\" alt=\"alt text\"><br>In this Graph, you should care about the “Green Block” and <strong>“Bule Block”</strong>. Green means it is fine. and Blue, as the first sentence of blue block, is the <strong>error stack</strong>.<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-11.png\" alt=\"alt text\"><br>And, by <strong>right click</strong> in the first call of blue block, click the <strong>“Set Stack Adjustment”</strong> you can input <strong>number</strong> to adjust stack analyze in this call:<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-12.png\" alt=\"alt text\"><br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-13.png\" alt=\"alt text\"><br>But soon, a confused thing : why this error not solved? And <strong>graph not changed</strong>.<br>In fact, the reason is: this <strong>“Graph of stack usage” is a static graph</strong>. It will not update with our adjust just in time. So, you can re-step in this graph again to check your adjustment if it works.<br>In this case, I adjust two call’s stack usage, and set adjustment by 1<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-14.png\" alt=\"alt text\"><br>by 0<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-15.png\" alt=\"alt text\"><br>and solved.<br><img src=\"/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/image-16.png\" alt=\"alt text\"></p>\n<p><a href=\"https://buuoj.cn/challenges#[RCTF2019]DontEatMe\">example: RCTF2019-DontEatMe-main</a></p>\n","path":"2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/","permalink":"http://example.com/2024/06/17/Adjustment-about-unresolved-stack-usage-in-binary-ninja/","tags":[{"name":"reverse-engine","_id":"clxidry3t0002ccw03swlerz8","slug":"reverse-engine","path":"tags/reverse-engine/","permalink":"http://example.com/tags/reverse-engine/","length":1},{"name":"binary-ninja","_id":"clxidry3y0006ccw0ftpcf7hb","slug":"binary-ninja","path":"tags/binary-ninja/","permalink":"http://example.com/tags/binary-ninja/","length":1}],"categories":[],"prev":{"title":"Short solution about unicorn error: Could not allocate dynamic translator buffer","date":"2024-06-18T07:40:23.000Z","slug":"Short-solution-about-unicorn-error-Could-not-allocate-dynamic-translator-buffer","published":true,"updated":"2024-06-18T08:33:16.000Z","_id":"clxk5kad90000qww07mtf4ndc","layout":"post","photos":[],"excerpt":"","path":"2024/06/18/Short-solution-about-unicorn-error-Could-not-allocate-dynamic-translator-buffer/","permalink":"http://example.com/2024/06/18/Short-solution-about-unicorn-error-Could-not-allocate-dynamic-translator-buffer/","__post":true},"next":{"title":"Cpython and Cpython hook -1","date":"2024-05-30T09:16:26.000Z","slug":"Cpython-and-Cpython-hook-1","published":true,"updated":"2024-05-31T02:16:48.000Z","_id":"clxidry3r0001ccw062kx7laj","layout":"post","photos":[],"excerpt":"","path":"2024/05/30/Cpython-and-Cpython-hook-1/","permalink":"http://example.com/2024/05/30/Cpython-and-Cpython-hook-1/","__post":true},"__post":true}